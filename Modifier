local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Referencias a la GUI
local mainGui = script.Parent
local modifierFrame = mainGui:WaitForChild("ModifierFrame")
local openButton = mainGui:WaitForChild("OpenButton")

-- Botones dentro del frame
local spawnButton = modifierFrame:WaitForChild("SpawnModifier")
local startButton = modifierFrame:WaitForChild("Start")
local resetButton = modifierFrame:WaitForChild("Reset")
local timeBox = modifierFrame:WaitForChild("TimeBox")

-- Ocultamos el frame al inicio
modifierFrame.Visible = false

-- Abrir/cerrar con bot贸n Open
openButton.MouseButton1Click:Connect(function()
	modifierFrame.Visible = not modifierFrame.Visible
end)

-- Variables de juego
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

local partsFolder = Instance.new("Folder")
partsFolder.Name = "SpawnedParts"
partsFolder.Parent = workspace

local partsList = {}
local teleportTime = 10

-- Editar el tiempo desde la caja
timeBox.FocusLost:Connect(function(enterPressed)
	local newTime = tonumber(timeBox.Text)
	if newTime and newTime >= 0.1 then
		teleportTime = newTime
	else
		timeBox.Text = tostring(teleportTime)
	end
end)

-- Bot贸n Spawn Modifier
spawnButton.MouseButton1Click:Connect(function()
	local part = Instance.new("Part")
	part.Size = Vector3.new(5,1,5)
	part.Anchored = true
	part.Position = humanoidRootPart.Position + Vector3.new(0,5 + #partsList * 5,0)
	part.Parent = partsFolder
	table.insert(partsList, part)
end)

-- Bot贸n Start
startButton.MouseButton1Click:Connect(function()
	for i, part in ipairs(partsList) do
		humanoidRootPart.CFrame = part.CFrame + Vector3.new(0,5,0)
		task.wait(teleportTime)
	end
end)

-- Bot贸n Reset
resetButton.MouseButton1Click:Connect(function()
	for _, part in ipairs(partsList) do
		part:Destroy()
	end
	partsList = {}
end)
